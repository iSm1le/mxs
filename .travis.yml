language: node_js
node_js:
  - '8'
dist: trusty
cache:
  directories:
    - node_modules
sudo: required
addons:
  apt:
    sources:
      - git-core
      - ubuntu-toolchain-r-test
    packages:
      - git
      - g++-4.9
env:
  - CXX=g++-4.9
before_install:
  - sudo apt-get update
  - npm explore npm -g -- npm install node-gyp@latest
install: npm install
script:
 - bash ./ci/test.sh
after_success:
  - bash <(curl -s https://codecov.io/bash)
deploy:
  - bash ./ci/deploy.sh
